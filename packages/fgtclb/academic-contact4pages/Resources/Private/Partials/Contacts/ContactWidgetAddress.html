<html
    lang="en"
    xmlns:f="http://typo3.org/ns/TYPO3/CMS/Fluid/ViewHelpers"
    data-namespace-typo3-fluid="true"
>
    <address class="project-details-address profile-contact">
        <f:if condition="{address.profile.firstName} || {address.profile.middleName} || {address.profile.lastName}">
            <f:link.action
                action="detail"
                pageUid="{settings.detailPid}"
                extensionName="AcademicPersons"
                controller="Profile"
                pluginName="Detail"
                arguments="{profile: address.profile}"
                class="profile-list-item-name internal-link-primary"
            >
                {address.profile.firstName} {address.profile.middleName} {address.profile.lastName}
            </f:link.action>
        </f:if>
        <f:if condition="{address.position}">
            <div class="profile-contract-item-wrapper">
                <p class="profile-list-item-position">
                    {address.position}
                </p>
            </div>
        </f:if>

        <f:if condition="{address.emailAddresses}">
            <f:for each="{address.emailAddresses}" as="emailAddress">
                <f:if condition="{emailAddress.email}">
                    <div class="profile-contract-item-wrapper">
                        <f:variable name="emailAddressTitle">{f:if(condition: '{address.profile.firstName}', then: '{address.profile.firstName}')}{f:if(condition: ' {address.profile.middleName}', then: '{address.profile.middleName}')}{f:if(condition: '{address.profile.lastName}', then: ' {address.profile.lastName}')}</f:variable>
                        <f:link.email class="profile-list-item-email" email="{emailAddress.email}" title="{f:translate(key: 'tx_academicpersons.fe.text.emailAddressAlt', extensionName: 'academic_persons_hnee', arguments: {0: '{emailAddressTitle}'})}" />
                    </div>
                </f:if>
            </f:for>
        </f:if>

        <f:if condition="{address.phoneNumbers}">
            <f:for each="{address.phoneNumbers}" as="phoneNumber">
                <f:if condition="{phoneNumber.phoneNumber}">
                    <div class="profile-contract-item-wrapper">
                        <f:variable name="phoneAddressTitle">{f:if(condition: '{address.profile.firstName}', then: '{address.profile.firstName}')}{f:if(condition: ' {address.profile.middleName}', then: '{address.profile.middleName}')}{f:if(condition: '{address.profile.lastName}', then: ' {address.profile.lastName}')}</f:variable>
                        <a href="tel:{phoneNumber.phoneNumber}" class="profile-list-item-phone" title="{f:translate(key: 'tx_academicpersons.fe.text.phoneNumberAlt', extensionName: 'academic_persons_hnee', arguments: {0: '{phoneAddressTitle}'})}" class="d-block">
                            {phoneNumber.phoneNumber}
                        </a>
                    </div>
                </f:if>
            </f:for>
        </f:if>
    </address>
</html>
