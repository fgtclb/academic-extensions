<html
    lang="en"
    xmlns:f="http://typo3.org/ns/TYPO3/CMS/Fluid/ViewHelpers"
    data-namespace-typo3-fluid="true"
>

<f:if condition="{profile.image}">
    <f:then>
        <figure>
            <picture>
                <source
                    srcset="{f:uri.image(
                        image: profile.image,
                        maxWidth: '390',
                        fileExtension: 'webp',
                    )}"
                    media="(min-width: 992px)"
                >
                <source
                    srcset="{f:uri.image(
                        image: profile.image,
                        maxWidth: '370',
                        fileExtension: 'webp',
                    )}"
                    media="(min-width: 768px)"
                >
                <source
                    srcset="{f:uri.image(
                        image: profile.image,
                        maxWidth: '690',
                        fileExtension: 'webp',
                    )}"
                    media="(min-width: 576px)"
                >
                <source
                    srcset="{f:uri.image(
                        image: profile.image,
                        maxWidth: '535',
                        fileExtension: 'webp',
                    )}"
                >
                <img
                    src="{f:uri.image(
                        image: profile.image,
                        maxWidth: 690,
                        fileExtension: 'webp',
                    )}"
                    alt="{profile.image.alternative}"
                    title="{profile.image.title}"
                    loading="lazy"
                >
            </picture>
        </figure>

        <f:link.action
            action="removeImage"
            arguments="{profile: profile}"
            class="btn btn-danger"
        >
            {f:translate(key: 'actions.delete', extensionName: 'academic_persons_edit')}

            <core:icon identifier="academic-persons-edit-delete" alternativeMarkupIdentifier="inline"/>
        </f:link.action>
    </f:then>
    <f:else>
        <f:link.action
            action="editImage"
            arguments="{profile: profile}"
            class="btn btn-primary"
        >
            {f:translate(key: 'actions.add', extensionName: 'academic_persons_edit')}

            <core:icon identifier="academic-persons-edit-add-image" alternativeMarkupIdentifier="inline"/>
        </f:link.action>
    </f:else>
</f:if>

</html>
